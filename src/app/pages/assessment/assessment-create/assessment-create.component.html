<div class="d-flex">
    <app-sidebar></app-sidebar>
    <div class="container-fluid p-0" style="background-color: #F5EFEF;">
        <div class="bg-title mt-5">
            <div class="container">
                <h3 class="d-flex justify-content-center align-items-center">Create Assessment</h3>
            </div>
        </div>
        <div class="container mt-1 p-4">

            <!-- ASSESSMENT -->
            <div class="card card-custom-title shadow-lg">
                <div class="card-body p-4">
                    <h4>ASSESSMENT</h4>
                </div>
            </div>
            <div class="card card-custom mb-3 mt-4 shadow-lg">
                <div class="card-body p-4">
                    <div class="form-group mb-3">
                        <label class="text-secondary">Title</label>
                        <input type="text" class="form-control mt-1" placeholder="Masukkan Title"
                            [(ngModel)]="assessment.title" required>
                    </div>
                    <div class="form-group mb-3 ">
                        <label class="text-secondary">Password</label>
                        <input type="password" class="form-control mt-1" placeholder="Masukkan Password"
                            [(ngModel)]="assessment.password" required>
                    </div>
                    <div class="form-group">
                        <label class="text-secondary">Close Date</label>
                        <input type="date" class="form-control mt-1" [(ngModel)]="assessment.endDate" required>
                    </div>
                </div>
            </div>

            <!-- QUESTION -->
            <div class="card card-custom-title shadow-lg">
                <div class="card-body p-4 d-flex justify-content-between">
                    <h4>QUESTION</h4>
                    <button class="btn m-0 p-0" (click)="isCollapsed = ! isCollapsed"
                        [attr.aria-expanded]="!isCollapsed">
                        <h5 class="text-secondary">X</h5>
                    </button>
                </div>
            </div>
            <div class="card card-custom mb-3 mt-4 shadow-lg">
                <div class="card-body p-4">
                    <button type="button" class="btn btn-custom-participant" (click)="addQuestion()">Add
                        Question</button>
                    <div class="card-body" #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
                        <div *ngFor="let question of assessment.questions; let i = index">
                            <div class="card mt-3">
                                <div class="card-body">
                                    <div class="form-group">
                                        <label>Question Text</label>
                                        <input type="text" class="form-control" [(ngModel)]="question.text" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Question Image</label>
                                        <input type="text" class="form-control" [(ngModel)]="question.image">
                                    </div>
                                    <button type="button" class="btn btn-custom" (click)="addChoice(i)">Add
                                        Choice</button>
                                </div>
                            </div>

                            <div class="card mt-3">
                                <div class="card-body">
                                    <div *ngFor="let choice of question.choices; let j = index">
                                        <div class="form-group">
                                            <label>Choice Value</label>
                                            <input type="text" class="form-control" [(ngModel)]="choice.value" required>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" [(ngModel)]="choice.true">
                                            <label class=" form-check-label">Is True</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- PARTICIPANT -->
            <div class="card card-custom-title shadow-lg">
                <div class="card-body p-4 d-flex justify-content-between">
                    <h4>PARTICIPANT</h4>
                    <button class="btn m-0 p-0" (click)="isCollapsed = ! isCollapsed"
                        [attr.aria-expanded]="!isCollapsed">
                        <h5 class="text-secondary">X</h5>
                    </button>
                </div>
            </div>
            <div class="card card-custom mb-3 mt-4 shadow-lg">
                <div class="card-body p-4">
                    <button type="button" class="btn btn-custom-participant" (click)="addParticipant()">Add
                        Participant</button>
                    <div class="card-body" #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
                        <div *ngFor="let participant of assessment.participants; let i = index" class="mt-3">
                            <p>Participant Ke-{{i+1}}</p>
                            <div class="form-group">
                                <label class="text-secondary">Name</label>
                                <input type="text" class="form-control" [(ngModel)]="participant.name" required>
                            </div>
                            <div class="form-group mt-2">
                                <label class="text-secondary">Username</label>
                                <input type="text" class="form-control" [(ngModel)]="participant.username" required>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- <div class="card card-custom mb-3 mt-4 shadow-lg">
                <div class="card-body p-4">
                    

                    
                    <button type="submit" class="btn btn-custom" (click)="submitAssessment()">Submit
                        Assessment</button>
                </div>
            </div> -->

        </div>
    </div>